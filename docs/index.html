<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŸå­ç¿’æ…£ï¼šæ€§åƒ¹æ¯”é‡å¡‘ç³»çµ±</title>
    <style>
        :root {
            --primary: #4A90E2;
            --danger: #E74C3C;
            --success: #2ECC71;
            --dark: #333;
            --light: #F5F7FA;
            --gray: #BDC3C7;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif, 'Noto Sans TC';
            background-color: var(--light);
            color: var(--dark);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 800px;
            width: 100%;
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1, h2, h3 { text-align: center; color: var(--primary); }
        .text-center { text-align: center; }

        /* æŒ‰éˆ•æ¨£å¼ */
        button {
            display: block;
            margin: 20px auto;
            padding: 12px 24px;
            font-size: 1.1rem;
            color: white;
            background-color: var(--primary);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover { background-color: #357ABD; }
        button:disabled { background-color: var(--gray); cursor: not-allowed; }

        /* è¼¸å…¥æ¡†æ¨£å¼ */
        input[type="text"], input[type="number"] {
            width: calc(100% - 20px);
            padding: 10px;
            margin: 8px 0;
            border: 1px solid var(--gray);
            border-radius: 5px;
            font-size: 1rem;
        }

        /* éš±è—ä¸åŒéšæ®µçš„å€å¡Š */
        .step { display: none; animation: fadeIn 0.5s ease-in-out; }
        .step.active { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* å¤©å¹³ç³»çµ± CSS */
        .scale-wrapper {
            position: relative;
            width: 100%;
            height: 250px;
            margin: 40px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-end;
        }

        .scale-stand {
            width: 12px;
            height: 160px;
            background: #7F8C8D;
            border-radius: 6px 6px 0 0;
        }

        .scale-base {
            width: 120px;
            height: 20px;
            background: #34495E;
            border-radius: 10px 10px 0 0;
        }

        .scale-beam {
            position: absolute;
            top: 60px;
            left: calc(50% - 150px);
            width: 300px;
            height: 8px;
            background: #2C3E50;
            border-radius: 4px;
            transform-origin: center center;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fulcrum {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-bottom: 20px solid #E74C3C;
            z-index: 2;
        }

        .pan-container {
            position: absolute;
            top: 0;
            width: 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
            transform-origin: top center;
            transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .left-pan { left: 0; transform: translateX(-50%); }
        .right-pan { right: 0; transform: translateX(50%); }

        .pan-string {
            width: 2px;
            height: 60px;
            background: #95A5A6;
        }

        .pan-box {
            position: relative;
            width: 100%;
            background: white;
            border: 3px solid #34495E;
            border-radius: 8px;
            padding: 10px 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-top: none;
        }
        
        .pan-box::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            height: 3px;
            background: #34495E;
        }

        .weight-label { font-weight: bold; color: var(--primary); }
        .score-label { font-size: 1.5rem; font-weight: bold; margin-top: 5px; }

        /* 1/10 åèª¤ç‰¹æ•ˆ */
        .bias-watermark {
            position: absolute;
            top: 50%;
            left: 110%;
            transform: translateY(-50%);
            font-size: 3rem;
            font-weight: bold;
            color: var(--danger);
            opacity: 0.8;
            pointer-events: none;
            white-space: nowrap;
            transition: all 0.5s ease;
        }

        .bias-watermark.struck {
            text-decoration: line-through;
            color: var(--gray);
            opacity: 0.3;
        }

        /* åˆ—è¡¨å€å¡Š */
        .panels {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }

        .panel {
            flex: 1;
            background: #f9f9f9;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #eee;
        }

        .item-list { list-style: none; padding: 0; }
        .item-list li {
            display: flex;
            justify-content: space-between;
            padding: 8px;
            border-bottom: 1px solid #ddd;
            font-size: 0.95rem;
        }
        .score-pos { color: var(--success); font-weight: bold; }
        .score-neg { color: var(--danger); font-weight: bold; }

        /* è¿´è·¯å¡ç‰‡ */
        .loop-card {
            background: #FFF3E0;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #FF9800;
            margin: 20px 0;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .arrow { text-align: center; font-size: 1.5rem; color: #FF9800; margin: 5px 0; }

        .success-msg {
            display: none;
            background: #D4EFDF;
            color: #1E8449;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
            margin-top: 20px;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- Step 1: é¸æ“‡å£ç¿’æ…£ -->
    <div id="step-1" class="step active">
        <h1>åŸå­ç¿’æ…£ï¼šé‡å¡‘ä½ çš„ç¿’æ…£ç³»çµ±</h1>
        <p class="text-center">ç¿’æ…£å°±æ˜¯ä¸€å€‹è©•åƒ¹ç³»çµ±ï¼Œæˆ‘å€‘ç¸½æ˜¯å‚¾å‘åšã€Œæ€§åƒ¹æ¯”ã€é«˜çš„äº‹æƒ…ã€‚<br>å‘Šè¨´æˆ‘ï¼Œä½ æœ€è¿‘æƒ³æˆ’é™¤çš„å£ç¿’æ…£æ˜¯ä»€éº¼ï¼Ÿ</p>
        <div style="max-width: 400px; margin: 40px auto;">
            <input type="text" id="habit-input" placeholder="ä¾‹å¦‚ï¼šåƒå®µå¤œã€ç†¬å¤œæ»‘æ‰‹æ©Ÿã€æŠ½è¸...">
            <button onclick="goToStep(2)">é€²å…¥åˆ†æç³»çµ±</button>
        </div>
    </div>

    <!-- å…±ç”¨çš„å¤©å¹³ UI (Step 2, 3, 5 ä½¿ç”¨) -->
    <div id="scale-section" class="step">
        <h2 id="habit-title"></h2>
        
        <div class="scale-wrapper">
            <div class="fulcrum"></div>
            <div class="scale-beam" id="beam">
                <div class="pan-container left-pan" id="panLeft">
                    <div class="pan-string"></div>
                    <div class="pan-box">
                        <div class="weight-label">çŸ­æœŸå¾—åˆ†</div>
                        <div class="score-label" id="st-total">0</div>
                    </div>
                </div>
                <div class="pan-container right-pan" id="panRight">
                    <div class="pan-string"></div>
                    <div class="pan-box">
                        <div class="weight-label">é•·æœŸå¾—åˆ†</div>
                        <div class="score-label" id="lt-total">0</div>
                        <div class="bias-watermark" id="bias-mark">Ã— â…’</div>
                    </div>
                </div>
            </div>
            <div class="scale-stand"></div>
            <div class="scale-base"></div>
        </div>
    </div>

    <!-- Step 2: å¡«å¯«çŸ­æœŸèˆ‡é•·æœŸ -->
    <div id="step-2" class="step">
        <p class="text-center" style="color: var(--danger); font-weight: bold;">
            ã€è§€å¯Ÿå¤§è…¦çš„é è¨­åèª¤ã€‘<br>
            è«‹å¯«ä¸‹é€™å€‹ç¿’æ…£çš„çŸ­æœŸèˆ‡é•·æœŸåˆ©å¼Šã€‚ä½ æœƒç™¼ç¾äººé¡å¤©ç”Ÿé‡è¦–çŸ­æœŸï¼Œå³é‚Š(é•·æœŸ)çš„èƒŒæ™¯å‡ºç¾äº† 1/10 çš„æŠ˜æ‰£ï¼
        </p>
        <div class="panels">
            <div class="panel">
                <h3>çŸ­æœŸ (ç«‹åˆ»ç™¼ç”Ÿçš„äº‹)</h3>
                <input type="text" id="st-name" placeholder="åç¨± (ä¾‹ï¼šæ„Ÿè¦ºå¾ˆçˆ½)">
                <input type="number" id="st-score" placeholder="çˆ½åº¦å¡«æ­£æ•¸ï¼Œä¸çˆ½å¡«è² æ•¸ (ä¾‹ï¼š80)">
                <button onclick="addItem('st')">åŠ å…¥çŸ­æœŸæ¸…å–®</button>
                <ul class="item-list" id="st-list"></ul>
            </div>
            <div class="panel">
                <h3>é•·æœŸ (æœªä¾†ç™¼ç”Ÿçš„äº‹)</h3>
                <input type="text" id="lt-name" placeholder="åç¨± (ä¾‹ï¼šè®Šèƒ–ã€å¥åº·è®Šå·®)">
                <input type="number" id="lt-score" placeholder="çˆ½åº¦å¡«æ­£æ•¸ï¼Œä¸çˆ½å¡«è² æ•¸ (ä¾‹ï¼š-100)">
                <button onclick="addItem('lt')">åŠ å…¥é•·æœŸæ¸…å–®</button>
                <ul class="item-list" id="lt-list"></ul>
            </div>
        </div>
        <button id="btn-step2" onclick="goToStep(3)" style="display: none; margin-top: 30px;">çœ‹è¦‹çœŸå¯¦çš„ä»£åƒ¹</button>
    </div>

    <!-- Step 3: çœ‹è¦‹çœŸå¯¦ (å–æ¶ˆ 1/10) -->
    <div id="step-3" class="step">
        <h2 style="color: var(--danger);">é€™æ‰æ˜¯çœŸå¯¦çš„ä»£åƒ¹ï¼</h2>
        <p class="text-center">ç•¶æˆ‘å€‘æ‹¿æ‰å¤§è…¦å°æœªä¾†çš„ 1/10 ç›²ç›®æŠ˜æ‰£ï¼Œä½ æœƒç™¼ç¾é•·æœŸçš„è² é¢ä»£åƒ¹é é é‡æ–¼çŸ­æœŸçš„çˆ½åº¦ã€‚</p>
        <button onclick="goToStep(4)">äº†è§£ç¿’æ…£å¦‚ä½•é‹ä½œ</button>
    </div>

    <!-- Step 4: ç¿’æ…£è¿´è·¯è§£é‡‹ -->
    <div id="step-4" class="step">
        <h2>ç¿’æ…£ï¼Œå°±æ˜¯ä¸€å€‹è©•åƒ¹ç³»çµ±</h2>
        <p class="text-center">æˆ‘å€‘çš„å¤§è…¦æ˜¯å¦‚ä½•æ±ºå®šè¦ä¸è¦åšä¸€ä»¶äº‹çš„ï¼Ÿçœ‹çœ‹é€™å€‹åº•å±¤è¿´è·¯ï¼š</p>
        
        <div class="loop-card">
            <strong>1. äººé¡åº•å±¤æ…¾æœ› (éœ€æ±‚)</strong><br>
            <div class="arrow">â¬‡ï¸</div>
            <strong>2. å°‹æ‰¾èƒ½è§£æ±ºæ…¾æœ›ï¼Œä¸”ã€Œæ€§åƒ¹æ¯”é«˜ã€çš„äº‹æƒ…</strong><br>
            <small>ï¼ˆåªæœ‰åœ¨æ¸…å–®è£¡é¢ã€ä½ åšéçš„äº‹æƒ…ï¼Œå¤§è…¦æ‰çŸ¥é“æ€§åƒ¹æ¯”ï¼‰</small><br>
            <div class="arrow">â¬‡ï¸</div>
            <strong>3. é æœŸå¿ƒç†åˆ†æ³Œå¤šå·´èƒº</strong><br>
            <small>ï¼ˆå¤šå·´èƒºè®“ä½ è¦ºå¾—åšé‚£ä»¶äº‹æ€§åƒ¹æ¯”å¾ˆä¸éŒ¯ï¼ï¼‰</small><br>
            <div class="arrow">â¬‡ï¸</div>
            <strong>4. ä½ å»åšäº†ï¼Œä¸¦å¾—åˆ°è·Ÿæ¸…å–®æ¥è¿‘çš„çˆ½åº¦èˆ‡æ€§åƒ¹æ¯”</strong>
        </div>

        <p>ä½ æ ¹æ“šæ…¾æœ›ï¼Œå»åšæ€§åƒ¹æ¯”é«˜çš„äº‹æƒ…ã€‚<br>ä½†å› ç‚ºä½ æ˜¯å€‹<strong>çŸ­æœŸå„ªå…ˆ</strong>çš„ç”Ÿç‰©ï¼Œåªè¦çŸ­æœŸçš„å¾—åˆ†æ˜¯æ­£çš„ï¼ˆå¾ˆçˆ½ï¼‰ï¼Œè¿´è·¯å°±æœƒè‡ªå‹•é‹è½‰ã€‚</p>
        <button onclick="goToStep(5)">é€²å…¥æœ€å¾Œä¸€æ­¥ï¼šæ”¹è®Šç‰©ç†ç¾å¯¦</button>
    </div>

    <!-- Step 5: å¢åŠ çŸ­æœŸæ‘©æ“¦åŠ› -->
    <div id="step-5" class="step">
        <h2>é§­å…¥ç³»çµ±ï¼šè®“æ€§åƒ¹æ¯”å´©ç›¤</h2>
        <p class="text-center">
            è¦æ‰“ç ´è¿´è·¯ï¼Œæˆ‘å€‘å¿…é ˆåˆ©ç”¨ã€Œç‰©ç†ç¾å¯¦ã€æˆ–ã€Œå€‹äººæƒ³æ³•ã€ï¼Œ<br>
            <strong>å¼·è¡Œé™ä½çŸ­æœŸçš„çˆ½åº¦ï¼Œè®“çŸ­æœŸçš„ç¸½åˆ†è®Šæˆè² æ•¸ï¼</strong><br>
            è«‹åœ¨ä¸‹æ–¹å¢åŠ çŸ­æœŸçš„ã€Œä¸çˆ½åº¦/å£è™•ã€ï¼ˆè² åˆ†ï¼‰ï¼Œä¾‹å¦‚ï¼šæŠŠæ‰‹æ©Ÿé–åœ¨å®šæ™‚ç›’è£¡(-50)ã€æ¯æ¬¡åšå°±ç½°éŒ¢çµ¦æœ‹å‹(-80)...
        </p>

        <div class="panels">
            <div class="panel" style="flex: unset; width: 100%; max-width: 500px; margin: 0 auto;">
                <h3>å¢åŠ çŸ­æœŸé˜»åŠ› (æ‘©æ“¦åŠ›)</h3>
                <input type="text" id="st-name-final" placeholder="ä¾‹å¦‚ï¼šå¢åŠ åŸ·è¡Œé›£åº¦ã€è¨­å®šç½°æ¬¾...">
                <input type="number" id="st-score-final" placeholder="è«‹å¡«å¯«ä¸çˆ½åº¦ (è² æ•¸ï¼Œä¾‹å¦‚ï¼š-50)">
                <button onclick="addItemFinal()">åŠ å…¥çŸ­æœŸé˜»åŠ›</button>
                <ul class="item-list" id="st-list-final"></ul>
            </div>
        </div>

        <div id="success-message" class="success-msg">
            ğŸ‰ æ­å–œï¼ä½ æˆåŠŸé‡å¡‘äº†æ€§åƒ¹æ¯”ï¼<br>
            ç•¶çŸ­æœŸç¸½åˆ†ç‚ºè² æ•¸ï¼ˆå¤©å¹³å¾¹åº•å€’å‘å³é‚Šï¼‰ï¼Œå¤§è…¦å°±æœƒåˆ¤å®šé€™ä»¶äº‹ã€Œæ¯«ç„¡æ€§åƒ¹æ¯”ã€ï¼Œå£ç¿’æ…£çš„è¿´è·¯å°±æ­¤è¢«æ‰“ç ´ï¼
        </div>

        <button onclick="location.reload()" style="background: var(--dark); margin-top: 40px;">é‡æ–°åˆ†æå¦ä¸€å€‹ç¿’æ…£</button>
    </div>

</div>

<script>
    // ç‹€æ…‹è®Šæ•¸
    let habitName = "";
    let shortTermItems = [];
    let longTermItems = [];
    let isBiased = true; // é è¨­å¤§è…¦æœ‰ 1/10 åèª¤

    // åˆ‡æ›æ­¥é©Ÿ
    function goToStep(stepNum) {
        if (stepNum === 2) {
            const input = document.getElementById('habit-input').value.trim();
            if (!input) return alert('è«‹è¼¸å…¥ä½ æƒ³æˆ’é™¤çš„ç¿’æ…£ï¼');
            habitName = input;
            document.getElementById('habit-title').innerText = `åˆ†æï¼šã€Œ${habitName}ã€`;
            
            // é¡¯ç¤ºå¤©å¹³èˆ‡ç¬¬äºŒæ­¥
            document.getElementById('scale-section').classList.add('active');
        }

        if (stepNum === 3) {
            if (shortTermItems.length === 0 || longTermItems.length === 0) {
                return alert('è«‹è‡³å°‘è¼¸å…¥ä¸€é …çŸ­æœŸèˆ‡ä¸€é …é•·æœŸçš„åˆ©å¼Šåˆ†æï¼');
            }
            // è§¸ç™¼å–æ¶ˆåèª¤çš„ç‰¹æ•ˆ
            const biasMark = document.getElementById('bias-mark');
            biasMark.classList.add('struck');
            isBiased = false;
            
            setTimeout(() => {
                biasMark.style.opacity = '0'; // æ·¡å‡º
                updateScale(); // æ›´æ–°å¤©å¹³ç‚ºçœŸå¯¦ç‹€æ…‹
            }, 800);
        }

        if (stepNum === 4) {
            // éš±è—å¤©å¹³å€å¡Šï¼Œå°ˆå¿ƒçœ‹è¿´è·¯
            document.getElementById('scale-section').classList.remove('active');
        }

        if (stepNum === 5) {
            // å†æ¬¡é¡¯ç¤ºå¤©å¹³ï¼Œä¸¦æŠŠç¾æœ‰çš„çŸ­æœŸè³‡æ–™è¤‡è£½éä¾†æ¸²æŸ“
            document.getElementById('scale-section').classList.add('active');
            renderLists(); 
        }

        // åˆ‡æ›é¡¯ç¤ºçš„ Div
        document.querySelectorAll('.step').forEach(el => {
            if(el.id.startsWith('step-')) el.classList.remove('active');
        });
        document.getElementById(`step-${stepNum}`).classList.add('active');
    }

    // æ–°å¢æ¸…å–®é …ç›® (Step 2)
    function addItem(type) {
        const nameInput = document.getElementById(`${type}-name`);
        const scoreInput = document.getElementById(`${type}-score`);
        const name = nameInput.value.trim();
        const score = parseInt(scoreInput.value);

        if (!name || isNaN(score)) return alert('è«‹è¼¸å…¥å®Œæ•´çš„åç¨±èˆ‡åˆ†æ•¸ï¼');

        if (type === 'st') shortTermItems.push({ name, score });
        if (type === 'lt') longTermItems.push({ name, score });

        nameInput.value = '';
        scoreInput.value = '';
        
        renderLists();
        updateScale();

        // å¦‚æœéƒ½æœ‰å¡«å¯«ï¼Œé¡¯ç¤ºä¸‹ä¸€æ­¥æŒ‰éˆ•
        if (shortTermItems.length > 0 && longTermItems.length > 0) {
            document.getElementById('btn-step2').style.display = 'block';
        }
    }

    // æ–°å¢æ¸…å–®é …ç›® (Step 5 å°ˆç”¨)
    function addItemFinal() {
        const nameInput = document.getElementById('st-name-final');
        const scoreInput = document.getElementById('st-score-final');
        const name = nameInput.value.trim();
        const score = parseInt(scoreInput.value);

        if (!name || isNaN(score)) return alert('è«‹è¼¸å…¥å®Œæ•´çš„åç¨±èˆ‡åˆ†æ•¸ï¼');
        if (score > 0) return alert('è«‹è¼¸å…¥è² æ•¸ï¼é€™è£¡æ˜¯ç‚ºäº†å¢åŠ æ‘©æ“¦åŠ›èˆ‡ä¸çˆ½åº¦ï¼');

        shortTermItems.push({ name, score });
        
        nameInput.value = '';
        scoreInput.value = '';
        
        renderLists();
        updateScale();
    }

    // æ¸²æŸ“æ¸…å–® HTML
    function renderLists() {
        const createHTML = (items) => items.map(item => `
            <li>
                <span>${item.name}</span>
                <span class="${item.score >= 0 ? 'score-pos' : 'score-neg'}">
                    ${item.score >= 0 ? '+' : ''}${item.score}
                </span>
            </li>
        `).join('');

        // Step 2 æ¸…å–®
        document.getElementById('st-list').innerHTML = createHTML(shortTermItems);
        document.getElementById('lt-list').innerHTML = createHTML(longTermItems);
        
        // Step 5 æ¸…å–®
        document.getElementById('st-list-final').innerHTML = createHTML(shortTermItems);

        checkSuccess();
    }

    // æª¢æŸ¥ Step 5 æ˜¯å¦æˆåŠŸæŠŠçŸ­æœŸåˆ†æ•¸é™åˆ° 0 ä»¥ä¸‹
    function checkSuccess() {
        const stSum = shortTermItems.reduce((acc, curr) => acc + curr.score, 0);
        // å¦‚æœç›®å‰åœ¨ Step 5 ä¸”çŸ­æœŸç¸½åˆ†ç‚ºè² 
        if (document.getElementById('step-5').classList.contains('active') && stSum <= 0) {
            document.getElementById('success-message').style.display = 'block';
        }
    }

    // æ›´æ–°å¤©å¹³é‚è¼¯èˆ‡å‹•ç•«
    function updateScale() {
        const stSum = shortTermItems.reduce((acc, curr) => acc + curr.score, 0);
        const ltSum = longTermItems.reduce((acc, curr) => acc + curr.score, 0);

        // é¡¯ç¤ºç¸½åˆ†
        document.getElementById('st-total').innerText = stSum;
        document.getElementById('lt-total').innerText = ltSum;

        // è¨ˆç®—é‡åŠ› (Weight)
        // çŸ­æœŸå¾—åˆ† (é€šå¸¸ç‚ºæ­£ï¼Œä»£è¡¨åšçš„èª˜æƒ‘åŠ›)
        let leftForce = stSum; 
        
        // é•·æœŸå¾—åˆ† (å£ç¿’æ…£é€šå¸¸ç‚ºè² ï¼Œæˆ‘å€‘å–çµ•å°å€¼åšç‚ºé¿å…çš„é˜»åŠ›)
        // å¦‚æœæ˜¯æ­£çš„å°±ç•¶ä½œæ²’é˜»åŠ›(0)
        let rightForce = ltSum < 0 ? Math.abs(ltSum) : 0; 

        // å¦‚æœæ˜¯åœ¨å¸¶æœ‰åèª¤çš„ç‹€æ…‹ï¼Œé•·æœŸçš„é˜»åŠ›è¢«å¤§è…¦ç¸®å°åˆ° 1/10
        if (isBiased) {
            rightForce = rightForce * 0.1;
        }

        // è¨ˆç®—å¤©å¹³å‚¾æ–œè§’åº¦
        // å¦‚æœ Left(èª˜æƒ‘) > Right(é˜»åŠ›)ï¼Œè§’åº¦ç‚ºè² (å¾€å·¦å‚¾æ–œ)
        // å¦‚æœ Right(é˜»åŠ›) > Left(èª˜æƒ‘)ï¼Œè§’åº¦ç‚ºæ­£(å¾€å³å‚¾æ–œ)
        let diff = rightForce - leftForce; 
        
        // é™åˆ¶æœ€å¤§å‚¾æ–œè§’åº¦ç‚º Â±30 åº¦
        let maxAngle = 30;
        // ä½¿ç”¨ä¸€å€‹æ¯”ä¾‹ä¿‚æ•¸ä¾†è®“å‚¾æ–œçœ‹èµ·ä¾†å¹³æ»‘
        let angle = diff * 0.3; 
        if (angle > maxAngle) angle = maxAngle;
        if (angle < -maxAngle) angle = -maxAngle;

        const beam = document.getElementById('beam');
        const panLeft = document.getElementById('panLeft');
        const panRight = document.getElementById('panRight');

        // æ‡‰ç”¨æ—‹è½‰
        beam.style.transform = `rotate(${angle}deg)`;
        
        // æ‰˜ç›¤è¦åå‘æ—‹è½‰ï¼Œé€™æ¨£æ‰èƒ½ä¿æŒå‚ç›´å—åœ°å¿ƒå¼•åŠ›
        panLeft.style.transform = `translateX(-50%) rotate(${-angle}deg)`;
        panRight.style.transform = `translateX(50%) rotate(${-angle}deg)`;
    }

    // åˆå§‹åŒ–å¤©å¹³
    updateScale();
</script>

</body>
</html>